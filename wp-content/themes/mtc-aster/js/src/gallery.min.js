!function(){$("#gallery");var d,n=$("#image-container"),c=$("#categories"),s=$("#buildings");$(".form-radio label");function i(t){n.empty();for(var e=0;e<=t.length-1;e++){var a=$(document.createElement("a")),i=$(document.createElement("img"));a.attr({href:t[e].url,"data-title":t[e].caption}),i.addClass("responsive-img"),i.attr({src:t[e].medium}),i.attr({"data-l":t[e].thumb}),i.attr({"data-d":t[e].thumb}),i.attr({"data-t":t[e].thumb}),i.attr({"data-m":t[e].medium}),a.append(i),n.append(a)}}function e(){$(".form-radio label").on({click:function(){$(".form-radio label").removeClass("clicked"),$(this).addClass("clicked");var e,t=(c.find("li").each(function(t){$(this).hasClass("active")&&(e=$(this).find("div").html())}),e);a($(this).find("input").val(),t)}}),c.find("li").on({click:function(){c.children("li").removeClass("active"),$(this).addClass("active");var e,t=$(this).find("div").html();a(($(".form-radio label").each(function(t){$(this).hasClass("clicked")&&(e=$(this).find("input").val())}),e),t)}})}function a(e,a){"all"==e.toLowerCase()&&"all"==a.toLowerCase()?i(d):i(d.filter(function(t){return"all"!=e.toLowerCase()&&"all"!=a.toLowerCase()?t.building==e&&t.category==a:"all"!=e.toLowerCase()?t.building==e:t.category==a}))}function t(){$.ajax({cache:!1,url:templateURL+"/JSON/gallery.json",dataType:"json",success:function(t){d=t,console.log(d),n.attr({"data-featherlight-gallery":"","data-featherlight-filter":"a"}),n.featherlightGallery({previousIcon:'<i class="fas fa-angle-left"></i>',nextIcon:'<i class="fas fa-angle-right"></i>',galleryFadeIn:300,openSpeed:300}),function(){for(var t,e=[],a=[],i=0;i<=d.length-1;i++){var n=$(document.createElement("li")),l=$(document.createElement("div")),r=$(document.createElement("label")),o=$(document.createElement("input"));void 0!==(t=e.filter(function(t){return t.trim().toLowerCase()==d[i].building.trim().toLowerCase()}))&&0!=t.length||(e.push(d[i].building),l.addClass("form-radio"),r.attr({for:"radio-"+i}),o.attr({id:"radio-"+i,type:"radio",value:d[i].building}),o.html(d[i].building),r.html(o),l.append(r),l.append(d[i].building),s.append(l)),n=$(document.createElement("li")),l=$(document.createElement("div")),void 0!==(t=a.filter(function(t){return t.trim().toLowerCase()==d[i].category.trim().toLowerCase()}))&&0!=t.length||(a.push(d[i].category),l.addClass("text"),l.html(d[i].category),n.html(l),c.append(n))}}(),i(d),e()}})}$.featherlightGallery.prototype.afterContent=function(){var t=this.$currentTarget.attr("data-title");this.$instance.find(".caption").remove(),t&&($('<div class="caption">').text(t).appendTo(this.$instance.find(".featherlight-content")),$(".caption").fadeIn(300,function(){}))},$(document).ready(function(){t()})}();